{"ast":null,"code":"import _slicedToArray from\"/Users/shubhamlal/Desktop/verification/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import\"./index.css\";import VerifyCertificateImg from\"../../assets/img/verify-certificate.png\";import SampleCertificateImg from\"../../assets/img/sample_ceritificate.png\";import ValidCertificateImg from\"../../assets/img/ValidCertificate.png\";import InvalidCertificateImg from\"../../assets/img/InvalidCertificate.jpeg\";import QRCodeImg from\"../../assets/img/qr-code.svg\";import{CertificateStatus}from\"../CertificateStatus\";import{CustomButton}from\"../CustomButton\";import QRScanner from\"../QRScanner\";import JSZip from\"jszip\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CERTIFICATE_FILE=\"certificate.json\";export var VerifyCertificate=function VerifyCertificate(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),result=_useState2[0],setResult=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showScanner=_useState4[0],setShowScanner=_useState4[1];var handleScan=function handleScan(data){if(data){var zip=new JSZip();zip.loadAsync(data).then(function(contents){return contents.files[CERTIFICATE_FILE].async('text');}).then(function(contents){setResult(contents);}).catch(function(err){setResult(data);});}};var handleError=function handleError(err){console.error(err);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid verify-certificate-wrapper\",children:[!result&&/*#__PURE__*/_jsxs(_Fragment,{children:[!showScanner&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:VerifyCertificateImg,className:\"banner-img\",alt:\"banner-img\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-center\",children:\"Verify a vaccination certificate\"}),/*#__PURE__*/_jsxs(CustomButton,{className:\"green-btn\",onClick:function onClick(){return setShowScanner(true);},children:[/*#__PURE__*/_jsx(\"span\",{children:\"Scan QR code\"}),/*#__PURE__*/_jsx(\"img\",{className:\"ml-3\",src:QRCodeImg,alt:\"\"})]})]}),showScanner&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(QRScanner,{onError:handleError,onScan:handleScan}),/*#__PURE__*/_jsx(CustomButton,{className:\"green-btn\",onClick:function onClick(){return setShowScanner(false);},children:\"BACK\"})]})]}),result&&/*#__PURE__*/_jsx(CertificateStatus,{certificateData:result,goBack:function goBack(){setShowScanner(false);setResult(\"\");}})]});};","map":{"version":3,"sources":["/Users/shubhamlal/Desktop/verification/src/components/VerifyCertificate/index.js"],"names":["React","useState","VerifyCertificateImg","SampleCertificateImg","ValidCertificateImg","InvalidCertificateImg","CertificateStatus","CustomButton","QRScanner","JSZip","Container","Row","Col","CERTIFICATE_FILE","VerifyCertificate","result","setResult","showScanner","setShowScanner","handleScan","data","zip","loadAsync","then","contents","files","async","catch","err","handleError","console","error","QRCodeImg"],"mappings":"4HAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,oBAAP,KAAiC,yCAAjC,CACA,MAAOC,CAAAA,oBAAP,KAAiC,0CAAjC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,uCAAhC,CACA,MAAOC,CAAAA,qBAAP,KAAkC,0CAAlC,C,oDAEA,OAAQC,iBAAR,KAAgC,sBAAhC,CACA,OAAQC,YAAR,KAA2B,iBAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,C,6IACA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,kBAAzB,CAEP,MAAO,IAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,EAAM,CACnC,cAA4Bb,QAAQ,CAAC,EAAD,CAApC,wCAAOc,MAAP,eAAeC,SAAf,eACA,eAAsCf,QAAQ,CAAC,KAAD,CAA9C,yCAAOgB,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAAC,IAAI,CAAI,CACvB,GAAIA,IAAJ,CAAU,CACN,GAAMC,CAAAA,GAAG,CAAG,GAAIZ,CAAAA,KAAJ,EAAZ,CACAY,GAAG,CAACC,SAAJ,CAAcF,IAAd,EAAoBG,IAApB,CAAyB,SAACC,QAAD,CAAc,CACnC,MAAOA,CAAAA,QAAQ,CAACC,KAAT,CAAeZ,gBAAf,EAAiCa,KAAjC,CAAuC,MAAvC,CAAP,CACH,CAFD,EAEGH,IAFH,CAEQ,SAAUC,QAAV,CAAoB,CACxBR,SAAS,CAACQ,QAAD,CAAT,CACH,CAJD,EAIGG,KAJH,CAIS,SAAAC,GAAG,CAAI,CACRZ,SAAS,CAACI,IAAD,CAAT,CACH,CANL,EASH,CACJ,CAbD,CAcA,GAAMS,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAAD,GAAG,CAAI,CACvBE,OAAO,CAACC,KAAR,CAAcH,GAAd,EACH,CAFD,CAGA,mBACI,aAAK,SAAS,CAAC,4CAAf,WAEQ,CAACb,MAAD,eACA,2BACK,CAACE,WAAD,eACD,wCACI,YAAK,GAAG,CAAEf,oBAAV,CAAgC,SAAS,CAAC,YAA1C,CAAuD,GAAG,CAAC,YAA3D,EADJ,cAEI,WAAI,SAAS,CAAC,aAAd,8CAFJ,cAGI,MAAC,YAAD,EAAc,SAAS,CAAC,WAAxB,CAAoC,OAAO,CAAE,yBAAMgB,CAAAA,cAAc,CAAC,IAAD,CAApB,EAA7C,wBACI,sCADJ,cAEI,YAAK,SAAS,CAAC,MAAf,CAAsB,GAAG,CAAEc,SAA3B,CAAsC,GAAG,CAAE,EAA3C,EAFJ,GAHJ,GAFJ,CAUKf,WAAW,eACZ,wCACI,KAAC,SAAD,EAAW,OAAO,CAAEY,WAApB,CACW,MAAM,CAAEV,UADnB,EADJ,cAGI,KAAC,YAAD,EAAc,SAAS,CAAC,WAAxB,CAAoC,OAAO,CAAE,yBAAMD,CAAAA,cAAc,CAAC,KAAD,CAApB,EAA7C,kBAHJ,GAXJ,GAHR,CAuBQH,MAAM,eAAI,KAAC,iBAAD,EAAmB,eAAe,CAAEA,MAApC,CAA4C,MAAM,CAAE,iBAAM,CAChEG,cAAc,CAAC,KAAD,CAAd,CACAF,SAAS,CAAC,EAAD,CAAT,CACH,CAHS,EAvBlB,GADJ,CAkCH,CAtDM","sourcesContent":["import React, {useState} from \"react\";\nimport \"./index.css\";\nimport VerifyCertificateImg from \"../../assets/img/verify-certificate.png\"\nimport SampleCertificateImg from \"../../assets/img/sample_ceritificate.png\"\nimport ValidCertificateImg from \"../../assets/img/ValidCertificate.png\"\nimport InvalidCertificateImg from \"../../assets/img/InvalidCertificate.jpeg\"\nimport QRCodeImg from \"../../assets/img/qr-code.svg\"\nimport {CertificateStatus} from \"../CertificateStatus\";\nimport {CustomButton} from \"../CustomButton\";\nimport QRScanner from \"../QRScanner\";\nimport JSZip from \"jszip\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nexport const CERTIFICATE_FILE = \"certificate.json\";\n\nexport const VerifyCertificate = () => {\n    const [result, setResult] = useState(\"\");\n    const [showScanner, setShowScanner] = useState(false);\n    const handleScan = data => {\n        if (data) {\n            const zip = new JSZip();\n            zip.loadAsync(data).then((contents) => {\n                return contents.files[CERTIFICATE_FILE].async('text')\n            }).then(function (contents) {\n                setResult(contents)\n            }).catch(err => {\n                    setResult(data)\n                }\n            );\n\n        }\n    };\n    const handleError = err => {\n        console.error(err)\n    };\n    return (\n        <div className=\"container-fluid verify-certificate-wrapper\">\n            {\n                !result &&\n                <>\n                    {!showScanner &&\n                    <>\n                        <img src={VerifyCertificateImg} className=\"banner-img\" alt=\"banner-img\"/>\n                        <h3 className=\"text-center\">Verify a vaccination certificate</h3>\n                        <CustomButton className=\"green-btn\" onClick={() => setShowScanner(true)}>\n                            <span>Scan QR code</span>\n                            <img className=\"ml-3\" src={QRCodeImg} alt={\"\"}/>\n                        </CustomButton>\n                    </>}\n                    {showScanner &&\n                    <>\n                        <QRScanner onError={handleError}\n                                   onScan={handleScan}/>\n                        <CustomButton className=\"green-btn\" onClick={() => setShowScanner(false)}>BACK</CustomButton>\n                    </>\n                    }\n                </>\n            }\n            {\n                result && <CertificateStatus certificateData={result} goBack={() => {\n                    setShowScanner(false);\n                    setResult(\"\");\n                }\n                }/>\n            }\n\n\n        </div>\n    )\n};\n"]},"metadata":{},"sourceType":"module"}